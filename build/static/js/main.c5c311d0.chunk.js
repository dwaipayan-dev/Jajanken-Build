(this.webpackJsonpjajanken=this.webpackJsonpjajanken||[]).push([[0],{43:function(t,e,a){},44:function(t,e,a){},46:function(t,e,a){},69:function(t,e,a){},70:function(t,e,a){"use strict";a.r(e);var s=a(0),c=a.n(s),n=a(35),i=a.n(n),o=(a(43),a(44),a(38)),r=a(3),l=a(14),h=a(15),m=a(16),j=a(18),b=a(17),d=a(22),u=(a(46),a.p+"static/media/Rock.b1cfaf52.jpg"),p=a.p+"static/media/Paper.a642db4e.jpg",g=a.p+"static/media/Scissor.a3f22a75.jpg",O=a.p+"static/media/Blank.a128bb17.jpg",f=a(10),v=a.p+"static/media/rock-icon.fb90cf51.svg",k=a.p+"static/media/paper-icon.6953ff09.svg",x=a.p+"static/media/scissor-icon.04ea40c6.svg",S=a(23),y=a.n(S),N=a(1),w=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={},s.clicked=!1,s.name="",s.name=t.match.params.name,s.clicked=!1,s.state={count:0,freqObj:{rock:0,paper:0,scissor:0},win:0,draw:0,loss:0,clicked:!1,hidden:!0,saveMessage:"",playerImg:String(O),computerImg:String(O)},s.increase=s.increase.bind(Object(m.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=this;y.a.get("https://jajanken-app-api.herokuapp.com/loadState/".concat(this.name)).then((function(e){console.log(e.data.playerToLoad),t.setState(Object(r.a)({},e.data.playerToLoad))})).catch((function(t){console.log(t)}))}},{key:"increase",value:function(){this.setState(Object(r.a)(Object(r.a)({},this.state),{},{count:this.state.count+1,clicked:!0})),this.waitOneSec()}},{key:"waitOneSec",value:function(){var t=this;Object(d.setTimeout)((function(){t.setState(Object(r.a)(Object(r.a)({},t.state),{},{playerImg:String(O),computerImg:String(O),clicked:!1}))}),1e3)}},{key:"saveMyState",value:function(){var t=this,e=Object(r.a)({},this.state);this.setState(Object(r.a)(Object(r.a)({},this.state),{},{hidden:!1,saveMessage:"Saving State"})),y.a.post("https://jajanken-app-api.herokuapp.com/saveState",{name:this.name,state:e}).then((function(e){console.log(e),t.setState(Object(r.a)(Object(r.a)({},t.state),{},{hidden:!1,saveMessage:"State Saved"})),Object(d.setTimeout)((function(){t.setState(Object(r.a)(Object(r.a)({},t.state),{},{hidden:!0,saveMessage:""}))}),3e3)})).catch((function(t){console.log(t)}))}},{key:"userSelection",value:function(t){var e=["rock","paper","scissor"];this.setState(Object(r.a)(Object(r.a)({},this.state),{},{clicked:!0})),this.waitOneSec();for(var a=this.aiPredictsUserChoice(this.state.freqObj,this.state.count),s=Math.max.apply(Math,Object(o.a)(a)),c=[],n=0;n<3;n++)a[n]===s&&c.push(n);var i=(c[Math.floor(Math.random()*(c.length-1))]+1)%3,l="",h="";switch(t){case 0:l=String(u);break;case 1:l=String(p);break;case 2:l=String(g);break;default:l=String(O)}switch(i){case 0:h=String(u);break;case 1:h=String(p);break;case 2:h=String(g);break;default:h=String(O)}console.log(a),console.log("User choice is ".concat(e[t],", Computer chose ").concat(e[i])),this.state.freqObj[e[t]]+=1,console.log(this.state.freqObj),t===i&&(console.log("It is a draw"),this.setState(Object(r.a)(Object(r.a)({},this.state),{},{count:this.state.count+1,draw:this.state.draw+1,playerImg:l,computerImg:h,clicked:!0}))),i===(t+1)%3&&(console.log("It is a loss"),this.setState(Object(r.a)(Object(r.a)({},this.state),{},{count:this.state.count+1,loss:this.state.loss+1,playerImg:l,computerImg:h,clicked:!0}))),i===(t+2)%3&&(console.log("It is a win"),this.setState(Object(r.a)(Object(r.a)({},this.state),{},{count:this.state.count+1,win:this.state.win+1,playerImg:l,computerImg:h,clicked:!0})))}},{key:"aiPredictsUserChoice",value:function(t,e){if(console.log(e),0===e){var a=[];return a[0]=Math.floor(50*Math.random()+15),a[1]=Math.floor(50*Math.random()+15),a[2]=Math.floor(50*Math.random()+15),a}var s=[],c=1e-5,n=t.rock/e+c,i=t.paper/e+c,o=t.scissor/e+c,r=Math.max(n,i,o);return n===i&&n===r&&n!==o&&(i=c),i===o&&i===r&&i!==n&&(o=c),o===n&&o===r&&o!==i&&(n=c),console.log(n,i,o),s[0]=Math.floor(50*Math.random()+15)*n,s[1]=Math.floor(50*Math.random()+15)*i,s[2]=Math.floor(50*Math.random()+15)*o,s}},{key:"render",value:function(){var t=this;return Object(N.jsxs)("div",{className:"mt-5",children:[Object(N.jsxs)("div",{className:"float-left ml-2",children:[Object(N.jsx)("button",{className:"btn btn-lg btn-outline-light",onClick:function(){t.saveMyState()},children:"Save Game"}),Object(N.jsx)("div",{hidden:this.state.visibility,children:this.state.saveMessage})]}),Object(N.jsx)("div",{className:"float-right mr-2",children:Object(N.jsx)(f.b,{to:"/",children:Object(N.jsx)("button",{className:"btn btn-outline-light",children:Object(N.jsx)("h2",{children:Object(N.jsx)("span",{children:"\u274c"})})})})}),Object(N.jsxs)("h1",{children:["Ready ",this.name,"... Rock... Paper... Scissor... Go!!!!"]}),Object(N.jsx)("h2",{children:"Match: "+this.state.count}),Object(N.jsxs)("div",{className:"row mt-5",children:[Object(N.jsxs)("h2",{className:"col col-4 text-success status",children:["Player Win: ",this.state.win]}),Object(N.jsxs)("h2",{className:"col col-4 text-warning status",children:["Draw: ",this.state.draw]}),Object(N.jsxs)("h2",{className:"col col-4 text-danger status",children:["CPU Win: ",this.state.loss]})]}),Object(N.jsxs)("div",{className:"row mt-5 mb-5",children:[Object(N.jsx)("div",{className:"col-6 col-sm-6",children:Object(N.jsx)("img",{className:"imageProp",src:this.state.playerImg})}),Object(N.jsx)("div",{className:"col-6 col-sm-6",children:Object(N.jsx)("img",{className:"imageProp",src:this.state.computerImg})})]}),Object(N.jsxs)("div",{className:"mb-2",children:[Object(N.jsx)("button",{className:"btn btn-lg btn-danger mr-5 rounded-circle",onClick:function(){t.userSelection(0)},disabled:this.state.clicked,children:Object(N.jsx)("img",{src:String(v),className:"iconProp"})}),Object(N.jsx)("button",{className:"btn btn-lg btn-warning mr-5 rounded-circle",onClick:function(){t.userSelection(1)},disabled:this.state.clicked,children:Object(N.jsx)("img",{src:String(k),className:"iconProp"})}),Object(N.jsx)("button",{className:"btn btn-lg btn-info rounded-circle",onClick:function(){t.userSelection(2)},disabled:this.state.clicked,children:Object(N.jsx)("img",{src:String(x),className:"iconProp"})})]})]})}}]),a}(c.a.Component),M=(a(69),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={},s.state={name:""},s}return Object(h.a)(a,[{key:"updateName",value:function(t){this.setState({name:t.target.value})}},{key:"render",value:function(){var t=this;return Object(N.jsxs)("div",{className:"welcome-prop",children:[Object(N.jsx)("h3",{className:"mx-auto col col-sm-7",children:"Welcome to Jajanken. Please enter your name to start a new Game OR continue from your last save."}),Object(N.jsxs)("div",{className:"mx-auto col col-sm-5 form-group",children:[Object(N.jsx)("p",{className:"mt-5 myp",children:"Jajanken is japanese for the Rock, Paper, Scissor game. This is a smart web game where you play against the computer and the computer takes your past moves into account when making it's move. "}),Object(N.jsx)("p",{className:"mt-5 myp",children:"Will you surpise the Computer OR will the computer surprise you!!"}),Object(N.jsx)("input",{className:"form-control mt-5",type:"text",placeholder:"Your Name...",onChange:function(e){t.updateName(e)}})]}),Object(N.jsx)(f.b,{to:"/game/"+this.state.name,children:Object(N.jsx)("button",{className:"btn btn-dark",type:"button",children:"Let the game begin!!"})})]})}}]),a}(c.a.Component)),I=a(2);var C=function(){return Object(N.jsx)(f.a,{children:Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(I.c,{children:[Object(N.jsx)(I.a,{exact:!0,path:"/",component:M}),Object(N.jsx)(I.a,{exact:!0,path:"/game/:name",component:w})]})})})},P=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,71)).then((function(e){var a=e.getCLS,s=e.getFID,c=e.getFCP,n=e.getLCP,i=e.getTTFB;a(t),s(t),c(t),n(t),i(t)}))};i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(C,{})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.c5c311d0.chunk.js.map